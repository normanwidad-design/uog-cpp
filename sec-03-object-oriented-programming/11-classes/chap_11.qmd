---
title: "Object-oriented programming"
author: |
    Khiem Nguyen 
    <br>Lecturer in Multiscale Materials
    <br><khiem.nguyen@glasgow.ac.uk>
author-meta: "Lecturer in Multiscale Materials"
format: 
    revealjs:
        theme: simple   # other themes: beige, blood, dark, dracula, league, moon, night, serif, simple, sky, solarized
        mouse-wheel: true
        highlight-style: github
        slide-number: true
        title-slide-style: pandoc
        echo: true
        code-overflow: wrap
        code-line-numbers: true
        code-block-bg: false          # <-- remove white background in code blocks
        # code-block-border-left: false # optional: remove left border
        # highlight-style: monokai      # good for dark images
        toc: true
        toc-depth: 1
        toc-title: Presentation Outline
        chalkboard: true
        css: ../../simple.css
---

# Member access

We have used structs in all the example in the last Chapter.


- This demonstrated that `struct` is pretty much the same as `class`.
- The difference between `struct` and `class` is 
  - By default, every data members and member functions of a `struct` is `public` by default.
  - By default, every data members and member functions of a `struct` is `private` by default.

We study now **access level** to debunk the meaning of two keywords `private` and `public`.

## Member access

![](./figures/private-vs-public.jpg)

You feel tired on the way going home and want to sit down in peace as you are an introvert. Two choices:

- The park with all the screaming kids. Not want to hear all the screamings. It is `public`, you [can access]{style="color:green"}.
- The private residential house with warm and TV. Want to sit in silence. It is `private`, you [cannot access]{style="color:red"}.

## Member access

&#9998;&nbsp; Each member of a class type (`struct` or `class`) have a property called an [**access level**]{style="color:red"}.

&#9998;&nbsp; **Access level** determines who can access that member:

1. `public`
2. `private`
3. `protected`

We'll cover 

- `public` and `private` in this Chapter
- `protected` in Chapter "Inheritance".

## Members of a struct are public by default

[**Terminologies**]{style="color:magenta"}

- Members that have the public access level are called [**public members**]{style="color:red"}.
- [**Public members**]{style="color:red"} are members of a class type that [do not have any restrictions on how they can be accessed]{style="color:blue"}.

::: {.fragment}
[**Meaning**]{style="color:magenta"}


- Public members can be accessed by other members of the same class.
- [**Public members can also be accessed by the public**]{style="color:blue"}, which is what we call code that exists outside the members of a given class type.
:::

::: {.fragment}
::: {.my-box}

**Key points to remember**

- The members of a struct are [public by default]{style="color:blue"}.
- Public members can be accessed by other members of the class type, and [by public]{style="color:blue"}
:::
:::

## Members of a struct are public by default: Example
We have done this all the time before:

::: {#lst-struct-public-by-default lst-cap="All the members of a struct are `public` by default. Filename=`struct_public_by_default.cpp`"}
```{.cpp}
{{< include ./cpp/struct_public_by_default.cpp >}}
```
:::

## The members of a class are private by default

Now, look at this example again but using `class` instead of `struct`:

::: {#lst-class-private-by-default lst-cap="All the members of a class are `private` by default. Filename=`class_private_by_default.cpp`"}
```{.cpp}
{{< include ./cpp/class_private_by_default.cpp >}}
```
:::

## The members of a class are private by default

::: {.my-box}

**Key points to remember**

- The members of a class are [private by default]{style="color:blue"}.
- Private members can be accessed by other members of the class type, [**but cannot be accessed by public**]{style="color:blue"}
:::

::: {.fragment}
[**Repeat**]{style="color:magenta"}

`struct` and `class` are only different by technical detail, but essentially interchangeable:
:::

:::{.fragment}
- To make `struct` look like `class`, we make all the members `private`.
- To make `class` look like `struct`, we make all the members `public`.
:::

## Naming your private member variables

&#9998;&nbsp; It is a common convention to _name private data members starting with an_ `m_` _prefix._ But $\ldots$ talk later.

Consider:

```{.cpp}
// Some member function that sets private member m_name to 
// the value of the name parameter
void set_name(std::string_view name)
{
    m_name = name;
}
```

- The `m_` prefix differentiates data members from function parameters or local variables.
- The `m_` prefix helps prevent naming collisions between private member variables and the names of local variables.

## Naming your private member variables

&#10149;&nbsp; If we had named private members `name` instead of `m_name`, it looks like this
```{.cpp}
// then we need to change the parameter's name here
void set_name(std::string_view name) 
{
    // function parameter "name" shadows the private data member "name"
    name = name // of course won't work
}
```


&#10149;&nbsp; But $\ldots$ soon we will see this is even not necessary in modern C++.

:::{.fragment}
[**Well, why do I need to mention?**]{style="color:magenta"}

- You need to read legacy code when you go to industry. 
- But the use of prefix `m_` is declining.
- Many high-profile open-source projects have moved away from `m_` in [**favor of a trailing underscore**]{style="color:blue"} (`variable_`) or [**no prefix at all**]{style="color:blue"}
:::


## Naming your private member variables: Examples

[**Examples**]{style="color:magenta"} -- <u>Click on the links to show the students examples</u>

- **Google**: trailing underscore `variable_`
- **PyTorch** (famous Machine Learning framework): no prefix, no suffix
  
    [[Link to one example]{style="color:navy"}](https://github.com/pytorch/pytorch/blob/main/torch/csrc/api/include/torch/nn/modules/linear.h), Lines 68 -- 75
- **deal.II** (famous finite element library): no prefix, no suffix
  
    [[Link to one example]{style="color:navy"}](https://github.com/dealii/dealii/blob/master/include/deal.II/fe/fe.h), Lines 2522 -- 2721

::: {.fragmnet}
[**Morale of the story**]{style="color:magenta"}

- All the examples in real-world libraries/application look extremely complicated.
- But $\ldots$ [_Hey! You want to earn $6$-digit salary and want it to look simple?_]{style="color:navy"}
:::

::: {.v-space style="height: 30px;"}
:::

::: {.fragment}
::: {.my-box}
**I am not against GenAI chatbot.** You can hate me now but I want to say this:

You want to get the job in industry after using ChatGPT/Gemini to generate solution for the programming courses? 

**Just think about that!?!?** üòèüòèüòè
:::
:::

## Setting access levels via access specifiers

&#9998;&nbsp; We can explicitly set the access level of our members by using an access specifier.